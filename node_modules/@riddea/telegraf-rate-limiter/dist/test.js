"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const telegraf_1 = require("telegraf");
const rate_limiter_1 = require("./rate-limiter");
const bot = new telegraf_1.Telegraf("");
const rateLimiter = new rate_limiter_1.RateLimiter(1, 2000);
bot.on("message", async (ctx) => {
    const limited = rateLimiter.take(ctx.from.id);
    if (limited)
        return await ctx.reply("Hey! Wait 2 second before send new message!");
    await ctx.reply("Hello!");
});
bot.launch();
// Enable graceful stop
process.once("SIGINT", () => bot.stop("SIGINT"));
process.once("SIGTERM", () => bot.stop("SIGTERM"));
//# sourceMappingURL=test.js.map